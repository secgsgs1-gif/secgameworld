<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mining Marathon</title>
  <link rel="stylesheet" href="styles.css?v=20260225a" />
</head>
<body>
  <main class="shell">
    <h1>Mining Marathon</h1>
    <p>페이지를 켜두면 캐릭터가 자동 달리기. 1바퀴마다 랜덤 포인트 획득.</p>

    <section class="summary">
      <p>내 포인트: <strong id="points">0</strong></p>
      <p>이번 접속 획득: <strong id="session-earned">0</strong></p>
      <p>누적 바퀴: <strong id="lap">0</strong></p>
      <p>현재 속도: <strong id="speed">0</strong></p>
      <p>동기화 상태: <strong id="sync-status">대기</strong></p>
    </section>

    <section class="upgrade">
      <h2>속도 업그레이드 (계정 귀속)</h2>
      <p>현재 레벨: <strong id="speed-level">Lv.0</strong></p>
      <p>다음 단계 비용: <strong id="next-cost">500</strong></p>
      <button id="upgrade-btn" type="button">속도 1단계 업그레이드</button>
      <p class="costs">단계별 비용: Lv1 500 / Lv2 1200 / Lv3 2600 / Lv4 5200 / Lv5 9800</p>
    </section>

    <div class="visual-toggle-row">
      <button
        id="toggle-game-visual"
        type="button"
        data-visual-toggle
        data-visual-target="#game-visual"
        data-show-label="Show Game Screen"
        data-hide-label="Hide Game Screen"
        aria-expanded="true"
      >Hide Game Screen</button>
    </div>

    <section id="game-visual" class="game-visual">
      <canvas id="track" width="820" height="460" aria-label="Mining Marathon Track"></canvas>
      <p id="event-log" class="event-log">채굴 시작 대기중...</p>
    </section>

    <section class="live">
      <h2>실시간 주자 (최대 20명)</h2>
      <ul id="runners"></ul>
    </section>

    <a href="../../index.html">Back to Home</a>
  </main>

  <script>window.APP_ROOT = "../../";</script>
  <script type="module" src="../../shared/auth-guard.js?v=20260224m"></script>
  <script type="module" src="../../shared/game-access.js?v=20260226k"></script>
  <script type="module" src="../../shared/visual-toggle.js?v=20260225a"></script>
  <script type="module" src="game.js?v=20260225h"></script>
</body>
</html>
